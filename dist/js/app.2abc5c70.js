(function(e){function t(t){for(var a,n,s=t[0],c=t[1],l=t[2],u=0,d=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&d.push(i[n][0]),i[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);b&&b(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],a=!0,n=1;n<r.length;n++){var s=r[n];0!==i[s]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=r[0]))}return e}var a={},n={app:0},i={app:0},o=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-3571e1c3":"cd762ec0"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(e){var t=[],r={"chunk-3571e1c3":1};n[e]?t.push(n[e]):0!==n[e]&&r[e]&&t.push(n[e]=new Promise((function(t,r){for(var a="css/"+({}[e]||e)+"."+{"chunk-3571e1c3":"af76c2ea"}[e]+".css",i=c.p+a,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var l=o[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===i))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){l=d[s],u=l.getAttribute("data-href");if(u===a||u===i)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var a=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete n[e],b.parentNode.removeChild(b),r(o)},b.href=i;var j=document.getElementsByTagName("head")[0];j.appendChild(b)})).then((function(){n[e]=0})));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,r){a=i[e]=[t,r]}));t.push(a[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(b);var r=i[e];if(0!==r){if(r){var a=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",d.name="ChunkLoadError",d.type=a,d.request=n,r[1](d)}i[e]=void 0}};var b=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(r,a,function(t){return e[t]}.bind(null,a));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var b=u;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0261":function(e,t,r){"use strict";r("11e3")},"0e30":function(e,t,r){"use strict";r("3f6c")},"114b":function(e,t,r){},"11e3":function(e,t,r){},"19a8":function(e,t,r){"use strict";r("89e2")},"1b28":function(e,t,r){"use strict";r("114b")},2149:function(e,t,r){"use strict";r("e5c7")},"2aee":function(e,t,r){e.exports=r.p+"img/noodles.1a24f327.jpg"},"3ec8":function(e,t,r){"use strict";r("cf1f")},"3f10":function(e,t,r){e.exports=r.p+"img/stew.eff32bf8.jpg"},"3f6c":function(e,t,r){},"44f3":function(e,t,r){"use strict";r("4d7b")},"49ec":function(e,t,r){e.exports=r.p+"img/curry.80c0efdb.jpg"},"4d7b":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("d3b7"),r("3ca3"),r("ddb0");var a=r("7a23");function n(e,t,r,n,i,o){var s=Object(a["B"])("the-header"),c=Object(a["B"])("router-view");return Object(a["u"])(),Object(a["f"])(a["a"],null,[Object(a["j"])(s),Object(a["j"])(c,null,{default:Object(a["K"])((function(e){return[Object(a["j"])(a["c"],{name:"route",mode:"out-in"},{default:Object(a["K"])((function(){return[(Object(a["u"])(),Object(a["f"])(Object(a["D"])(e.Component)))]})),_:2},1024)]})),_:1})],64)}r("ac1f"),r("5319");var i=Object(a["N"])("data-v-377350c6");Object(a["x"])("data-v-377350c6");var o=Object(a["j"])("label",{for:"check",class:"checkbtn"},[Object(a["j"])("i",{class:"fas fa-bars"})],-1),s={class:"logo"},c=Object(a["i"])(" Auth"),l=Object(a["i"])("Public"),u={key:0},d=Object(a["i"])("Private"),b={key:1},j=Object(a["i"])("Login"),p={key:2},m=Object(a["i"])("Logout");Object(a["v"])();var f=i((function(e,t,r,n,f,h){var O=Object(a["B"])("router-link");return Object(a["u"])(),Object(a["f"])("header",null,[Object(a["j"])("nav",null,[Object(a["L"])(Object(a["j"])("input",{type:"checkbox",id:"check","onUpdate:modelValue":t[1]||(t[1]=function(e){return f.clicked=e})},null,512),[[a["H"],f.clicked]]),o,Object(a["j"])("label",s,[Object(a["j"])(O,{to:"/"},{default:i((function(){return[c]})),_:1})]),Object(a["j"])("ul",null,[Object(a["j"])("li",null,[Object(a["j"])(O,{onClick:h.clickSubmit,to:"/public"},{default:i((function(){return[l]})),_:1},8,["onClick"])]),h.isLoggedIn?(Object(a["u"])(),Object(a["f"])("li",u,[Object(a["j"])(O,{onClick:h.clickSubmit,to:"/private"},{default:i((function(){return[d]})),_:1},8,["onClick"])])):(Object(a["u"])(),Object(a["f"])("li",b,[Object(a["j"])(O,{onClick:h.clickSubmit,to:"/login"},{default:i((function(){return[j]})),_:1},8,["onClick"])])),h.isLoggedIn?(Object(a["u"])(),Object(a["f"])("li",p,[Object(a["j"])(O,{onClick:h.logout,to:"/public"},{default:i((function(){return[m]})),_:1},8,["onClick"])])):Object(a["g"])("",!0)])])])})),h={data:function(){return{clicked:!1}},computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated}},methods:{logout:function(){this.clicked=!1,this.$store.dispatch("logout"),this.$router.replace("/public"),this.clickSubmit()},clickSubmit:function(){this.clicked=!1}}};r("8dee");h.render=f,h.__scopeId="data-v-377350c6";var O=h,v={name:"App",components:{TheHeader:O},created:function(){this.$store.dispatch("tryLogin")},computed:{didAutoLogout:function(){return this.$store.getters.didAutoLogout}},watch:{didAutoLogout:function(e,t){e&&e!==t&&this.$router.replace("/public")}}};r("d2f5");v.render=n;var w=v,g=r("6c02"),y=Object(a["N"])("data-v-754e13f0");Object(a["x"])("data-v-754e13f0");var k={class:"text-gray-600"},x={class:"grid md:grid-cols-3"},V={class:"md:col-span-1 md:flex md:justify-end"},P={class:"text-right"},C={class:"flex justify-between items-center"},_=Object(a["j"])("h1",{class:"font-bold uppercase p-4 border-b border-gray-100 "},[Object(a["j"])("a",{class:"hover:text-red-500",href:"/"}," Food Ninja ")],-1),L=Object(a["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(a["j"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1),S={key:0,class:"text-sm mt-6 menu-item"},I=Object(a["j"])("li",{class:"text-gray-900 py-1"},[Object(a["j"])("a",{href:"#",class:"px-4 flex justify-end border-r-4 border-primary"},[Object(a["j"])("span",null,"HOME"),Object(a["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-4 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(a["j"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})])])],-1),B=Object(a["j"])("li",{class:"py-1"},[Object(a["j"])("a",{href:"#",class:"px-4 flex justify-end border-r-4 border-white"},[Object(a["j"])("span",null,"ABOUT"),Object(a["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-4 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(a["j"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1),F=Object(a["j"])("li",null,[Object(a["j"])("a",{href:"#",class:"px-4 flex justify-end border-r-4 border-white"},[Object(a["j"])("span",null,"CONTACT"),Object(a["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-4 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(a["j"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})])])],-1),E={class:"px-16 py-6 bg-gray-100 md:col-span-2"},A=Object(a["h"])('<div class="flex justify-center md:justify-end" data-v-754e13f0><a href="#" class="text-primary btn border-primary md:border-2 hover:bg-primary hover:text-white transition ease-out duration-500" data-v-754e13f0>Log in</a><a href="#" class="text-primary ml-2 btn border-primary md:border-2 hover:bg-primary hover:text-white transition ease-out duration-500" data-v-754e13f0>Sign in</a></div><header data-v-754e13f0><h2 class="text-gray-700 text-6xl font-semibold" data-v-754e13f0>Recipes</h2><h3 class="text-2xl font-semibold" data-v-754e13f0>For Ninja</h3></header>',2),R={class:""},T=Object(a["j"])("h4",{class:"font-bold mt-12 pb-2 border-b border-gray-200"}," Latest Recipes ",-1),M={class:"mt-8 grid lg:grid-cols-3 gap-10"},N={class:"card hover:shadow-2xl transform hover:scale-105  transition ease-out duration-100"},$=Object(a["j"])("div",{class:"m-4"},[Object(a["j"])("span",{class:"font-bold"},"5 Bean Chili Stew"),Object(a["j"])("span",{class:"block text-gray-500 text-sm"},"Recipe by tomas")],-1),q=Object(a["j"])("div",{class:"badge"},[Object(a["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 inline-block",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(a["j"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),Object(a["j"])("span",null," 25 mins ")],-1),U={class:"card hover:shadow-2xl transform hover:scale-105  transition ease-out duration-100"},z=Object(a["j"])("div",{class:"m-4"},[Object(a["j"])("span",{class:"font-bold"},"5 Bean Chili Stew"),Object(a["j"])("span",{class:"block text-gray-500 text-sm"},"Recipe by tomas")],-1),D=Object(a["j"])("div",{class:"badge"},[Object(a["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 inline-block",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(a["j"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),Object(a["j"])("span",null," 25 mins ")],-1),J={class:"card hover:shadow-2xl transform hover:scale-105  transition ease-out duration-100"},H=Object(a["j"])("div",{class:"m-4"},[Object(a["j"])("span",{class:"font-bold"},"5 Bean Chili Stew"),Object(a["j"])("span",{class:"block text-gray-500 text-sm"},"Recipe by tomas")],-1),K=Object(a["j"])("div",{class:"badge"},[Object(a["j"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 inline-block",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(a["j"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),Object(a["j"])("span",null," 25 mins ")],-1),W=Object(a["j"])("h4",{class:"forn-bold mt-12 pb-2 border-b border-gray-200"},"Most Popular",-1),Y=Object(a["j"])("div",{class:"mt-8"},null,-1),G=Object(a["j"])("div",{class:"flex justify-center"},[Object(a["j"])("div",{class:"bg-secondary-100 text-secondary-200 btn hover:shadow-inner transform hover:scale-125 hover:bg-opacity-50 transition ease-out duration-300"}," Load more ")],-1);Object(a["v"])();var Q=y((function(e,t,n,i,o,s){return Object(a["u"])(),Object(a["f"])("div",k,[Object(a["j"])("div",x,[Object(a["j"])("div",V,[Object(a["j"])("nav",P,[Object(a["j"])("div",C,[_,Object(a["j"])("div",{class:"px-4 cursor-pointer md:hidden ",onClick:t[1]||(t[1]=function(){return s.triggerMenu&&s.triggerMenu.apply(s,arguments)})},[L])]),o.menu?(Object(a["u"])(),Object(a["f"])("ul",S,[I,B,F])):Object(a["g"])("",!0)])]),Object(a["j"])("main",E,[A,Object(a["j"])("div",R,[T,Object(a["j"])("div",M,[Object(a["j"])("div",N,[Object(a["j"])("img",{class:"w-full h-32 sm:h-48 object-cover",src:r("3f10"),alt:"stew"},null,8,["src"]),$,q]),Object(a["j"])("div",U,[Object(a["j"])("img",{class:"w-full h-32 sm:h-48 object-cover",src:r("49ec"),alt:"stew"},null,8,["src"]),z,D]),Object(a["j"])("div",J,[Object(a["j"])("img",{class:"w-full h-32 sm:h-48 object-cover",src:r("2aee"),alt:"stew"},null,8,["src"]),H,K])])])])]),W,Y,G])})),X={data:function(){return{menu:!1}},methods:{triggerMenu:function(){this.menu=!this.menu}}};r("44f3");X.render=Q,X.__scopeId="data-v-754e13f0";var Z=X,ee=Object(a["h"])('<h1>PRIVATE</h1><h2>CSS Template using Float</h2><p> In this example, we have created a header, three unequal columns and a footer. On smaller screens, the columns will stack on top of each other. </p><p>Resize the browser window to see the responsive effect.</p><div class="header"><h2>Header</h2></div><div class="row"><div class="column side" style="background-color:#aaa;">Column</div><div class="column middle" style="background-color:#bbb;">Column</div><div class="column side" style="background-color:#ccc;">Column</div></div><div class="footer"><p>Footer</p></div>',7);function te(e,t,r,n,i,o){return Object(a["u"])(),Object(a["f"])("div",null,[ee])}var re={};r("0261");re.render=te;var ae=re,ne=(r("b0c0"),Object(a["N"])("data-v-2b53a5c0"));Object(a["x"])("data-v-2b53a5c0");var ie={class:"w3-row"},oe=Object(a["j"])("div",{class:"w3-quarter w3-container"},null,-1),se={class:"w3-half w3-container"},ce={class:"w3-margin w3-card-4"},le=Object(a["j"])("div",{class:"w3-container w3-blue w3-center"},[Object(a["j"])("h3",null,"Register")],-1),ue=Object(a["j"])("label",{for:"name"},"Name",-1),de={key:0,class:"alert"},be=Object(a["j"])("label",{for:"surname"},"Surname",-1),je={key:1,class:"alert"},pe=Object(a["j"])("label",{for:"email"},"E-Mail",-1),me={key:2,class:"alert"},fe=Object(a["j"])("label",{for:"password"},"Password",-1),he={key:3,class:"alert"},Oe=Object(a["j"])("label",{for:"confirm"},"Confirm Password",-1),ve={key:4,class:"alert"},we=Object(a["j"])("p",{class:"but"},[Object(a["j"])("button",{class:"w3-button w3-block w3-blue"},"Register")],-1),ge=Object(a["j"])("div",{class:"w3-quarter w3-container"},null,-1);Object(a["v"])();var ye=ne((function(e,t,r,n,i,o){var s=Object(a["B"])("base-dialog"),c=Object(a["B"])("base-spinner");return Object(a["u"])(),Object(a["f"])("div",null,[Object(a["j"])(s,{show:!!i.error,title:"An error occurred!",onClose:o.handleError},{default:ne((function(){return[Object(a["i"])(Object(a["F"])(i.error),1)]})),_:1},8,["show","onClose"]),Object(a["j"])(s,{show:i.isLoading,fixed:"",title:"Authenticating..."},{default:ne((function(){return[Object(a["j"])(c)]})),_:1},8,["show"]),Object(a["j"])("div",ie,[oe,Object(a["j"])("div",se,[Object(a["j"])("div",ce,[le,Object(a["j"])("form",{class:"w3-container w3-margin",onSubmit:t[11]||(t[11]=Object(a["M"])((function(){return o.formSubmit&&o.formSubmit.apply(o,arguments)}),["prevent"]))},[ue,Object(a["L"])(Object(a["j"])("input",{class:["w3-input",{error:!i.name.isValid}],type:"text",id:"name","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.name.value=e}),onBlur:t[2]||(t[2]=function(){return o.nameValidation&&o.nameValidation.apply(o,arguments)})},null,34),[[a["I"],i.name.value,void 0,{trim:!0}]]),i.name.isValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("p",de,"Please enter your name")),be,Object(a["L"])(Object(a["j"])("input",{class:["w3-input",{error:!i.surname.isValid}],type:"text",id:"surname","onUpdate:modelValue":t[3]||(t[3]=function(e){return i.surname.value=e}),onBlur:t[4]||(t[4]=function(){return o.surnameValidation&&o.surnameValidation.apply(o,arguments)})},null,34),[[a["I"],i.surname.value,void 0,{trim:!0}]]),i.surname.isValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("p",je," Please enter your surname ")),pe,Object(a["L"])(Object(a["j"])("input",{class:["w3-input",{error:!i.email.isValid}],type:"email",id:"email","onUpdate:modelValue":t[5]||(t[5]=function(e){return i.email.value=e}),onBlur:t[6]||(t[6]=function(){return o.emailValidation&&o.emailValidation.apply(o,arguments)})},null,34),[[a["I"],i.email.value,void 0,{trim:!0}]]),i.email.isValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("p",me," Please enter a valid email ")),fe,Object(a["L"])(Object(a["j"])("input",{class:["w3-input",{error:!i.password.isValid}],type:"password",id:"password","onUpdate:modelValue":t[7]||(t[7]=function(e){return i.password.value=e}),onBlur:t[8]||(t[8]=function(){return o.passwordValidation&&o.passwordValidation.apply(o,arguments)})},null,34),[[a["I"],i.password.value]]),i.password.isValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("p",he," Please enter a valid password ")),Oe,Object(a["L"])(Object(a["j"])("input",{class:["w3-input",{error:!i.confirm.isValid}],type:"password",id:"confirm","onUpdate:modelValue":t[9]||(t[9]=function(e){return i.confirm.value=e}),onBlur:t[10]||(t[10]=function(){return o.confirmValidation&&o.confirmValidation.apply(o,arguments)})},null,34),[[a["I"],i.confirm.value]]),i.confirm.isValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("p",ve," The password doesn't match! ")),we],32)])]),ge])])})),ke=r("1da1"),xe=(r("96cf"),r("caad"),r("2532"),{data:function(){return{name:{value:"",isValid:!0},surname:{value:"",isValid:!0},email:{value:"",isValid:!0},password:{value:"",isValid:!0},confirm:{value:"",isValid:!0},isFormValid:!0,isLoading:!1,error:null}},methods:{formSubmit:function(){var e=this;return Object(ke["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.nameValidation(),e.surnameValidation(),e.emailValidation(),e.passwordValidation(),e.confirmValidation(),e.isFormValid){t.next=7;break}return t.abrupt("return");case 7:return e.isLoading=!0,r={name:e.name.value,surname:e.surname.value,email:e.email.value,password:e.password.value},t.prev=9,t.next=12,e.$store.dispatch("register",r);case 12:alert("User "+r.name+" "+r.surname+" registered successfully"),a="/"+(e.$route.query.redirect||"public"),e.$router.replace(a),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](9),e.error=t.t0.message||"Failed to authenticate";case 20:e.isLoading=!1;case 21:case"end":return t.stop()}}),t,null,[[9,17]])})))()},nameValidation:function(){this.isFormValid=!0,this.name.isValid=!0,""===this.name.value&&(this.isFormValid=!1,this.name.isValid=!1)},surnameValidation:function(){this.isFormValid=!0,this.surname.isValid=!0,""===this.surname.value&&(this.isFormValid=!1,this.surname.isValid=!1)},emailValidation:function(){this.email.isValid=!0,this.isFormValid=!0,this.email.value&&this.email.value.includes("@")||(this.email.isValid=!1,this.isFormValid=!1)},passwordValidation:function(){this.isFormValid=!0,this.password.isValid=!0,(!this.password.value||this.password.value.length<4)&&(this.isFormValid=!1,this.password.isValid=!1)},confirmValidation:function(){this.isFormValid=!0,this.confirm.isValid=!0,(!this.confirm.value||this.confirm.value<4||this.confirm.value!==this.password.value)&&(this.isFormValid=!1,this.confirm.isValid=!1)},handleError:function(){this.error=null}}});r("2149");xe.render=ye,xe.__scopeId="data-v-2b53a5c0";var Ve=xe,Pe=Object(a["N"])("data-v-29888948");Object(a["x"])("data-v-29888948");var Ce={class:"w3-row margin-all"},_e=Object(a["j"])("div",{class:"w3-quarter w3-container"},null,-1),Le={class:"w3-half w3-container"},Se={class:"w3-margin w3-card-4"},Ie=Object(a["j"])("div",{class:"w3-container w3-blue w3-center"},[Object(a["j"])("h3",null,"Login")],-1),Be=Object(a["j"])("label",{for:"email"},"Login",-1),Fe={key:0,class:"w3-text-red"},Ee=Object(a["j"])("label",{for:"password"},"Password",-1),Ae={key:1,class:"w3-text-red"},Re=Object(a["j"])("p",{class:"w3-padding but"},[Object(a["j"])("button",{class:"w3-button w3-block w3-blue "},"Login")],-1),Te={class:" w3-padding"},Me=Object(a["i"])(" If not yet, "),Ne=Object(a["i"])("Register"),$e=Object(a["i"])(" to signup! "),qe={key:2,class:"w3-text-orange w3-padding"},Ue=Object(a["i"])(" Seems like You dont remember your pssword, "),ze=Object(a["i"])("Reset password"),De=Object(a["j"])("div",{class:"w3-quarter w3-container"},null,-1);Object(a["v"])();var Je=Pe((function(e,t,r,n,i,o){var s=Object(a["B"])("base-dialog"),c=Object(a["B"])("base-spinner"),l=Object(a["B"])("router-link");return Object(a["u"])(),Object(a["f"])("div",null,[Object(a["j"])(s,{show:!!i.error,title:"An error occurred!",onClose:o.handleError},{default:Pe((function(){return[Object(a["i"])(Object(a["F"])(i.error),1)]})),_:1},8,["show","onClose"]),Object(a["j"])(s,{show:i.isLoading,fixed:"",title:"Login..."},{default:Pe((function(){return[Object(a["j"])(c)]})),_:1},8,["show"]),Object(a["j"])("div",Ce,[_e,Object(a["j"])("div",Le,[Object(a["j"])("div",Se,[Ie,Object(a["j"])("form",{class:"w3-container w3-margin",onSubmit:t[5]||(t[5]=Object(a["M"])((function(){return o.formSubmit&&o.formSubmit.apply(o,arguments)}),["prevent"]))},[Object(a["j"])("p",null,[Be,Object(a["L"])(Object(a["j"])("input",{class:["w3-input",{error:!i.email.isValid}],type:"text",id:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.email.value=e}),onBlur:t[2]||(t[2]=function(){return o.emailValidation&&o.emailValidation.apply(o,arguments)})},null,34),[[a["I"],i.email.value,void 0,{trim:!0}]])]),i.email.isValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("p",Fe," Please enter a valid email ")),Object(a["j"])("p",null,[Ee,Object(a["L"])(Object(a["j"])("input",{class:["w3-input",{error:!i.password.isValid}],type:"password",id:"password","onUpdate:modelValue":t[3]||(t[3]=function(e){return i.password.value=e}),onBlur:t[4]||(t[4]=function(){return o.passwordValidation&&o.passwordValidation.apply(o,arguments)})},null,34),[[a["I"],i.password.value,void 0,{number:!0}]])]),i.password.isValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("p",Ae," Password is required!! ")),Re,Object(a["j"])("h6",Te,[Me,Object(a["j"])(l,{class:"w3-text-blue",to:"/register"},{default:Pe((function(){return[Ne]})),_:1}),$e]),i.wrongPassword>2?(Object(a["u"])(),Object(a["f"])("h6",qe,[Ue,Object(a["j"])(l,{class:"w3-text-blue",to:o.linkWithEmail},{default:Pe((function(){return[ze]})),_:1},8,["to"])])):Object(a["g"])("",!0)],32)])]),De])])})),He={data:function(){return{email:{value:"",isValid:!0},password:{value:"",isValid:!0},isFormValid:!0,error:null,isLoading:!1,wrongPassword:0}},methods:{formSubmit:function(){var e=this;return Object(ke["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.emailValidation(),e.passwordValidation(),e.isFormValid){t.next=4;break}return t.abrupt("return");case 4:return e.isLoading=!0,r={email:e.email.value,password:e.password.value},t.prev=6,t.next=9,e.$store.dispatch("login",r);case 9:a="/"+(e.$route.query.redirect||"public"),e.$router.replace(a),t.next=18;break;case 13:t.prev=13,t.t0=t["catch"](6),e.wrongPassword++,e.error=t.t0.message||"Failed to authenticate",e.password.value="";case 18:e.isLoading=!1;case 19:case"end":return t.stop()}}),t,null,[[6,13]])})))()},emailValidation:function(){this.email.isValid=!0,this.isFormValid=!0,this.email.value&&this.email.value.includes("@")||(this.email.isValid=!1,this.isFormValid=!1)},passwordValidation:function(){this.isFormValid=!0,this.password.isValid=!0,(!this.password.value||this.password.value.length<4)&&(this.isFormValid=!1,this.password.isValid=!1)},handleError:function(){this.error=null}},computed:{linkWithEmail:function(){return"/resetPassword"+(""!==this.email.value?"?email="+this.email.value:"")}}};r("0e30");He.render=Je,He.__scopeId="data-v-29888948";var Ke=He,We=Object(a["j"])("h2",null,"Page not found",-1),Ye=Object(a["i"])(" This page could not be found - maybe check out all our "),Ge=Object(a["i"])("Public"),Qe=Object(a["i"])(". ");function Xe(e,t){var r=Object(a["B"])("router-link"),n=Object(a["B"])("base-card");return Object(a["u"])(),Object(a["f"])("section",null,[Object(a["j"])(n,null,{default:Object(a["K"])((function(){return[We,Object(a["j"])("p",null,[Ye,Object(a["j"])(r,{to:"/public"},{default:Object(a["K"])((function(){return[Ge]})),_:1}),Qe])]})),_:1})])}const Ze={};Ze.render=Xe;var et=Ze,tt=Object(a["N"])("data-v-0b1f956c");Object(a["x"])("data-v-0b1f956c");var rt={class:"w3-row"},at=Object(a["j"])("div",{class:"w3-third w3-container"},null,-1),nt={class:"w3-third w3-container"},it={class:"w3-margin w3-card-4"},ot=Object(a["j"])("div",{class:"w3-container w3-blue w3-center"},[Object(a["j"])("h3",null,"Forgot Password")],-1),st=Object(a["j"])("label",{for:"email"},"Enter your email",-1),ct={key:0,class:"w3-text-red"},lt=Object(a["j"])("p",null,[Object(a["j"])("button",{class:"w3-button w3-block w3-blue"},"Confirm")],-1),ut=Object(a["j"])("div",{class:"w3-third w3-container"},null,-1);Object(a["v"])();var dt=tt((function(e,t,r,n,i,o){var s=Object(a["B"])("base-dialog"),c=Object(a["B"])("base-spinner");return Object(a["u"])(),Object(a["f"])("div",null,[Object(a["j"])(s,{show:!!i.error,title:"An error occurred!",onClose:o.handleError},{default:tt((function(){return[Object(a["i"])(Object(a["F"])(i.error),1)]})),_:1},8,["show","onClose"]),Object(a["j"])(s,{show:i.isLoading,fixed:"",title:"Checking data..."},{default:tt((function(){return[Object(a["j"])(c)]})),_:1},8,["show"]),Object(a["j"])("div",rt,[at,Object(a["j"])("div",nt,[Object(a["j"])("div",it,[ot,Object(a["j"])("form",{class:"w3-container",onSubmit:t[3]||(t[3]=Object(a["M"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["prevent"]))},[Object(a["j"])("p",null,[st,Object(a["L"])(Object(a["j"])("input",{class:"w3-input",type:"mail",id:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.email=e}),onBlur:t[2]||(t[2]=function(){return o.validateEmail&&o.validateEmail.apply(o,arguments)})},null,544),[[a["I"],i.email,void 0,{trim:!0}]])]),i.isValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("p",ct," Please enter a valid email ")),lt],32)])]),ut])])})),bt={data:function(){return{email:"",isValid:!0,isLoading:!1,error:null}},methods:{submitForm:function(){var e=this;return Object(ke["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.validateEmail(),e.isValid){t.next=3;break}return t.abrupt("return");case 3:return e.isLoading=!0,t.prev=4,t.next=7,e.$store.dispatch("resetPassword",{email:e.email});case 7:e.isLoading=!1,alert("We have sent you an email to '"+e.email+"' with the instructions how to reset the password"),r="/"+(e.$route.query.redirect||"public"),e.$router.replace(r),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](4),e.error=t.t0.message||"Failed to authenticate";case 16:e.isLoading=!1;case 17:case"end":return t.stop()}}),t,null,[[4,13]])})))()},validateEmail:function(){this.isValid=!0,this.email&&this.email.includes("@")||(this.isValid=!1)},handleError:function(){this.error=null}},created:function(){this.email=this.$route.query.email}};bt.render=dt,bt.__scopeId="data-v-0b1f956c";var jt=bt,pt=Object(a["N"])("data-v-7b664580");Object(a["x"])("data-v-7b664580");var mt={class:"w3-row"},ft=Object(a["j"])("div",{class:"w3-third w3-container"},null,-1),ht={class:"w3-third w3-container"},Ot={class:"w3-margin w3-card-4"},vt=Object(a["j"])("div",{class:"w3-container w3-blue w3-center"},[Object(a["j"])("h3",null,"Change Password")],-1),wt=Object(a["j"])("label",{for:"email"},"Enter your new password",-1),gt=Object(a["j"])("label",{for:"email"},"Repeat your password",-1),yt={key:0,class:"w3-text-red"},kt={key:1,class:"w3-text-red"},xt=Object(a["j"])("p",null,[Object(a["j"])("button",{class:"w3-button w3-block w3-blue"},"Change")],-1),Vt=Object(a["j"])("div",{class:"w3-third w3-container"},null,-1);Object(a["v"])();var Pt=pt((function(e,t,r,n,i,o){var s=Object(a["B"])("base-dialog"),c=Object(a["B"])("base-spinner");return Object(a["u"])(),Object(a["f"])("div",null,[Object(a["j"])(s,{show:!!i.error,title:"An error occurred!",onClose:o.handleError},{default:pt((function(){return[Object(a["i"])(Object(a["F"])(i.error),1)]})),_:1},8,["show","onClose"]),Object(a["j"])(s,{show:i.isLoading,fixed:"",title:"Sending data..."},{default:pt((function(){return[Object(a["j"])(c)]})),_:1},8,["show"]),Object(a["j"])("div",mt,[ft,Object(a["j"])("div",ht,[Object(a["j"])("div",Ot,[vt,Object(a["j"])("form",{class:"w3-container",onSubmit:t[5]||(t[5]=Object(a["M"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["prevent"]))},[Object(a["j"])("p",null,[wt,Object(a["L"])(Object(a["j"])("input",{class:["w3-input",{error:!i.isValid}],type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.password=e}),onBlur:t[2]||(t[2]=function(){return o.validatePassword&&o.validatePassword.apply(o,arguments)})},null,34),[[a["I"],i.password,void 0,{trim:!0}]])]),Object(a["j"])("p",null,[gt,Object(a["L"])(Object(a["j"])("input",{class:["w3-input",{error:!i.isValidConfirm}],type:"password",id:"passwordConfirm","onUpdate:modelValue":t[3]||(t[3]=function(e){return i.passwordConfirm=e}),onBlur:t[4]||(t[4]=function(){return o.validatePasswordConfirm&&o.validatePasswordConfirm.apply(o,arguments)})},null,34),[[a["I"],i.passwordConfirm,void 0,{trim:!0}]])]),i.isValid?i.isValidConfirm?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("p",kt," The passwords doesn't match ")):(Object(a["u"])(),Object(a["f"])("p",yt," Please enter a valid password ")),xt],32)])]),Vt])])})),Ct={data:function(){return{password:"",passwordConfirm:"",isValid:!0,isValidConfirm:!0,isLoading:!1,error:null}},methods:{submitForm:function(){var e=this;return Object(ke["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.validatePassword(),e.validatePasswordConfirm(),e.isValid&&e.isValidConfirm){t.next=4;break}return t.abrupt("return");case 4:return e.isLoading=!0,t.prev=5,t.next=8,e.$store.dispatch("changePassword",{email:e.$route.query.email,password:e.password});case 8:e.isLoading=!1,alert("Your password has been reseted successfully!"),r="/login",e.$router.replace(r),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](5),e.error=t.t0.message||"Failed to authenticate";case 17:e.isLoading=!1;case 18:case"end":return t.stop()}}),t,null,[[5,14]])})))()},validatePassword:function(){this.isValid=!0,(!this.password||this.password.length<4)&&(this.isValid=!1)},validatePasswordConfirm:function(){this.isValidConfirm=!0,(!this.passwordConfirm||this.passwordConfirm.length<4||this.password!==this.passwordConfirm)&&(this.isValidConfirm=!1)},handleError:function(){this.error=null}}};r("eebc");Ct.render=Pt,Ct.__scopeId="data-v-7b664580";var _t,Lt=Ct,St=r("5502"),It={setUser:function(e,t){e.token=t.token,e.userId=t.userId,e.didAutoLogout=!1},setAutoLogout:function(e){e.didAutoLogout=!0}},Bt={prod:{url_login:"https://tomasmali.it/serve/auth/login",url_register:"https://tomasmali.it/serve/auth/register",url_reset_password:"https://tomasmali.it/serve/auth/resetPassword",url_change_password:"https://tomasmali.it/serve/auth/changePassword"},dev:{url_login:"http://localhost:3000/login",url_register:"http://localhost:3000/register",url_reset_password:"http://localhost:3000/resetPassword",url_change_password:"http://localhost:3000/changePassword"}},Ft={login:function(e,t){return Object(ke["a"])(regeneratorRuntime.mark((function r(){var a,n,i,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=Bt.prod.url_login,r.next=3,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({email:t.email,password:t.password})});case 3:return n=r.sent,r.next=6,n.json();case 6:if(i=r.sent,n.ok){r.next=13;break}if(401!==i.code){r.next=12;break}throw new Error(i.message);case 12:throw new Error("Request failed with error code: "+n.status);case 13:o=1e3*+i.expiresIn,s=(new Date).getTime()+o,localStorage.setItem("token",i.token),localStorage.setItem("userId",i.email),localStorage.setItem("tokenExpiration",s),_t=setTimeout((function(){e.dispatch("autoLogOut")}),o),e.commit("setUser",{token:i.token,userId:i.email});case 20:case"end":return r.stop()}}),r)})))()},register:function(e,t){return Object(ke["a"])(regeneratorRuntime.mark((function e(){var r,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Bt.prod.url_register,console.log(t),e.next=4,fetch(r,{method:"POST",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data",body:JSON.stringify({name:t.name,surname:t.surname,email:t.email,password:t.password})});case 4:return a=e.sent,e.next=7,a.json();case 7:if(n=e.sent,a.ok){e.next=14;break}if(409!==n.code){e.next=13;break}throw new Error(n.message);case 13:throw new Error("Request failed with error code: "+a.status);case 14:case"end":return e.stop()}}),e)})))()},resetPassword:function(e,t){return Object(ke["a"])(regeneratorRuntime.mark((function e(){var r,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Bt.prod.url_reset_password,console.log(t),e.next=4,fetch(r,{method:"POST",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data",body:JSON.stringify({email:t.email})});case 4:return a=e.sent,e.next=7,a.json();case 7:if(n=e.sent,a.ok){e.next=10;break}throw new Error(n.message);case 10:case"end":return e.stop()}}),e)})))()},changePassword:function(e,t){return Object(ke["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Bt.prod.url_change_password,console.log(t),e.next=4,fetch(r,{method:"POST",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data",body:JSON.stringify({email:t.email,password:t.password})});case 4:if(a=e.sent,a.ok){e.next=7;break}throw new Error("Request failed with error code: "+a.status);case 7:case"end":return e.stop()}}),e)})))()},tryLogin:function(e){return Object(ke["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=localStorage.getItem("token"),a=localStorage.getItem("userId"),n=localStorage.getItem("tokenExpiration"),i=+n-(new Date).getTime(),!(i<0)){t.next=6;break}return t.abrupt("return");case 6:_t=setTimeout((function(){e.dispatch("autoLogOut")}),i),r&&a&&e.commit("setUser",{token:r,userId:a});case 8:case"end":return t.stop()}}),t)})))()},logout:function(e){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("tokenExpiration"),clearTimeout(_t),e.commit("setUser",{token:null,userId:null})},autoLogOut:function(e){e.dispatch("logout"),e.commit("setAutoLogout")}},Et={userId:function(e){return e.userId},token:function(e){return e.token},isAuthenticated:function(e){return!!e.token},didAutoLogout:function(e){return e.didAutoLogout}},At={state:function(){return{userId:null,token:null,didAutoLogout:!1}},mutations:It,actions:Ft,getters:Et},Rt=Object(St["a"])({modules:{auth:At}}),Tt=Rt,Mt=Object(g["a"])({history:Object(g["b"])(),routes:[{path:"/",redirect:"/public"},{path:"/public",component:Z},{path:"/private",component:ae,meta:{privateProtection:!0}},{path:"/register",component:Ve,meta:{registerProtection:!0}},{path:"/login",component:Ke,meta:{loginProtection:!0}},{path:"/resetPassword",component:jt,meta:{resetProtection:!0}},{path:"/changePassword",component:Lt,meta:{changeProtection:!0}},{path:"/:notFound(.*)",component:et}]});Mt.beforeEach((function(e,t,r){e.meta.privateProtection&&!Tt.getters.isAuthenticated&&r("/login"),e.meta.loginProtection&&Tt.getters.isAuthenticated&&r("/private"),e.meta.registerProtection&&Tt.getters.isAuthenticated&&r("/private"),e.meta.resetProtection&&Tt.getters.isAuthenticated&&r("/private"),e.meta.changeProtection&&Tt.getters.isAuthenticated&&r("/private"),r()}));var Nt=Mt,$t=Object(a["N"])("data-v-440772b5");Object(a["x"])("data-v-440772b5");var qt={class:"card"};Object(a["v"])();var Ut=$t((function(e,t){return Object(a["u"])(),Object(a["f"])("div",qt,[Object(a["A"])(e.$slots,"default",{},void 0,!0)])}));r("c6b2");const zt={};zt.render=Ut,zt.__scopeId="data-v-440772b5";var Dt=zt,Jt=(r("9911"),Object(a["N"])("data-v-05ff2aca")),Ht=Jt((function(e,t,r,n,i,o){var s=Object(a["B"])("router-link");return r.link?(Object(a["u"])(),Object(a["f"])(s,{key:1,to:r.to,class:r.mode},{default:Jt((function(){return[Object(a["A"])(e.$slots,"default",{},void 0,!0)]})),_:3},8,["to","class"])):(Object(a["u"])(),Object(a["f"])("button",{key:0,class:r.mode},[Object(a["A"])(e.$slots,"default",{},void 0,!0)],2))})),Kt={props:{mode:{type:String,required:!1,default:null},link:{type:Boolean,required:!1,default:!1},to:{type:String,required:!1,default:"/"}}};r("19a8");Kt.render=Ht,Kt.__scopeId="data-v-05ff2aca";var Wt=Kt,Yt=Object(a["N"])("data-v-e7bb52be"),Gt=Yt((function(e,t,r,n,i,o){return Object(a["u"])(),Object(a["f"])("span",{class:["badge",r.type]},Object(a["F"])(o.text),3)})),Qt={props:["type","title"],computed:{text:function(){return this.title.toUpperCase()}}};r("1b28");Qt.render=Gt,Qt.__scopeId="data-v-e7bb52be";var Xt=Qt,Zt=Object(a["N"])("data-v-5147169a");Object(a["x"])("data-v-5147169a");var er={class:"spinner"},tr=Object(a["j"])("div",{class:"lds-roller"},[Object(a["j"])("div"),Object(a["j"])("div"),Object(a["j"])("div"),Object(a["j"])("div"),Object(a["j"])("div"),Object(a["j"])("div"),Object(a["j"])("div"),Object(a["j"])("div")],-1);Object(a["v"])();var rr=Zt((function(e,t){return Object(a["u"])(),Object(a["f"])("div",er,[tr])}));r("3ec8");const ar={};ar.render=rr,ar.__scopeId="data-v-5147169a";var nr=ar,ir=r("5bd2"),or=Object(a["k"])((function(){return r.e("chunk-3571e1c3").then(r.bind(null,"ae92"))})),sr=Object(a["e"])(w);sr.use(Nt),sr.use(Tt),sr.component("base-card",Dt),sr.component("base-button",Wt),sr.component("base-badge",Xt),sr.component("base-spinner",nr),sr.component("base-dialog",or),sr.component("Dialog",ir["a"]),sr.mount("#app")},"89e2":function(e,t,r){},"8dee":function(e,t,r){"use strict";r("b1c6")},a698:function(e,t,r){},b1c6:function(e,t,r){},b1f2:function(e,t,r){},c6b2:function(e,t,r){"use strict";r("b1f2")},cf1f:function(e,t,r){},d2f5:function(e,t,r){"use strict";r("a698")},e193:function(e,t,r){},e5c7:function(e,t,r){},eebc:function(e,t,r){"use strict";r("e193")}});
//# sourceMappingURL=app.2abc5c70.js.map