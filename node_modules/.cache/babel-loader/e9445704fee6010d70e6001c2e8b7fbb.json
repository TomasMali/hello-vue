{"remainingRequest":"/Users/tomas/Desktop/hello-vue/node_modules/babel-loader/lib/index.js!/Users/tomas/Desktop/hello-vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/tomas/Desktop/hello-vue/src/router.js","dependencies":[{"path":"/Users/tomas/Desktop/hello-vue/src/router.js","mtime":1618655826964},{"path":"/Users/tomas/Desktop/hello-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tomas/Desktop/hello-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tomas/Desktop/hello-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlUm91dGVyLCBjcmVhdGVXZWJIaXN0b3J5IH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBQYWdlUHViYmxpYyBmcm9tICcuL2NvbXBvbmVudHMvcHViYmxpYy9QYWdlUHViYmxpYy52dWUnOwppbXBvcnQgUGFnZVByaXZhdGUgZnJvbSAnLi9jb21wb25lbnRzL3ByaXZhdGUvUGFnZVByaXZhdGUudnVlJzsKaW1wb3J0IFVzZXJSZWdpc3RlciBmcm9tICcuL3BhZ2VzL2F1dGgvVXNlclJlZ2lzdGVyLnZ1ZSc7CmltcG9ydCBVc2VyTG9naW4gZnJvbSAnLi9wYWdlcy9hdXRoL1VzZXJMb2dpbi52dWUnOwppbXBvcnQgTm90Rm91bmQgZnJvbSAnLi9wYWdlcy9Ob3RGb3VuZC52dWUnOwppbXBvcnQgc3RvcmUgZnJvbSAnLi9zdG9yZS9pbmRleC5qcyc7CnZhciByb3V0ZXIgPSBjcmVhdGVSb3V0ZXIoewogIGhpc3Rvcnk6IGNyZWF0ZVdlYkhpc3RvcnkoKSwKICByb3V0ZXM6IFt7CiAgICBwYXRoOiAnLycsCiAgICByZWRpcmVjdDogJy9wdWJsaWMnCiAgfSwgewogICAgcGF0aDogJy9wdWJsaWMnLAogICAgY29tcG9uZW50OiBQYWdlUHViYmxpYwogIH0sIHsKICAgIHBhdGg6ICcvcHJpdmF0ZScsCiAgICBjb21wb25lbnQ6IFBhZ2VQcml2YXRlLAogICAgbWV0YTogewogICAgICBwcml2YXRlUHJvdGVjdGlvbjogdHJ1ZQogICAgfQogIH0sIHsKICAgIHBhdGg6ICcvcmVnaXN0ZXInLAogICAgY29tcG9uZW50OiBVc2VyUmVnaXN0ZXIsCiAgICBtZXRhOiB7CiAgICAgIHJlZ2lzdGVyUHJvdGVjdGlvbjogdHJ1ZQogICAgfQogIH0sIHsKICAgIHBhdGg6ICIvbG9naW4iLAogICAgY29tcG9uZW50OiBVc2VyTG9naW4sCiAgICBtZXRhOiB7CiAgICAgIGxvZ2luUHJvdGVjdGlvbjogdHJ1ZQogICAgfQogIH0sIHsKICAgIHBhdGg6ICcvOm5vdEZvdW5kKC4qKScsCiAgICBjb21wb25lbnQ6IE5vdEZvdW5kCiAgfV0KfSk7Ci8qKgogKiBUbyAtPiBpcyB0aGUgcm91dGUgd2hlcmUgd2UgYXJlIGdvaW5nIHRvCiAqLwoKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBfLCBuZXh0KSB7CiAgLy8gc2Ugw6ggIHJpc2NoaWVzdGEgbGEgcHJvdGV6aW9uZSBlIG5vbiBzaWFtbyBhdXRlbnRpY2F0aSwgYmxvY2NvIGwndXRlbnRlCiAgaWYgKHRvLm1ldGEucHJpdmF0ZVByb3RlY3Rpb24gJiYgIXN0b3JlLmdldHRlcnMuaXNBdXRoZW50aWNhdGVkKSB7CiAgICBuZXh0KCcvbG9naW4nKTsKICB9IC8vIHNlIHNvbm8gbG9nZ2F0byBlIHZvZ2xpbyBmYXJlIGlsIGxvZ2luCgoKICBpZiAodG8ubWV0YS5sb2dpblByb3RlY3Rpb24gJiYgc3RvcmUuZ2V0dGVycy5pc0F1dGhlbnRpY2F0ZWQpIHsKICAgIG5leHQoJy9wcml2YXRlJyk7CiAgfSAvLyBzZSBzb25vIGxvZ2dhdG8gZSB2b2dsaW8gZmFyZSBsYSByZWdpc3RyYXppb25lCgoKICBpZiAodG8ubWV0YS5yZWdpc3RlclByb3RlY3Rpb24gJiYgc3RvcmUuZ2V0dGVycy5pc0F1dGhlbnRpY2F0ZWQpIHsKICAgIG5leHQoJy9wcml2YXRlJyk7CiAgfQoKICBuZXh0KCk7Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["/Users/tomas/Desktop/hello-vue/src/router.js"],"names":["createRouter","createWebHistory","PagePubblic","PagePrivate","UserRegister","UserLogin","NotFound","store","router","history","routes","path","redirect","component","meta","privateProtection","registerProtection","loginProtection","beforeEach","to","_","next","getters","isAuthenticated"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,gBAAvB,QAA+C,YAA/C;AAEA,OAAOC,WAAP,MAAwB,sCAAxB;AACA,OAAOC,WAAP,MAAwB,sCAAxB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AAEA,OAAOC,KAAP,MAAkB,kBAAlB;AAGA,IAAMC,MAAM,GAAGR,YAAY,CAAC;AACxBS,EAAAA,OAAO,EAAER,gBAAgB,EADD;AAExBS,EAAAA,MAAM,EAAE,CACJ;AAAEC,IAAAA,IAAI,EAAE,GAAR;AAAaC,IAAAA,QAAQ,EAAE;AAAvB,GADI,EAEJ;AAAED,IAAAA,IAAI,EAAE,SAAR;AAAmBE,IAAAA,SAAS,EAAEX;AAA9B,GAFI,EAGJ;AAAES,IAAAA,IAAI,EAAE,UAAR;AAAoBE,IAAAA,SAAS,EAAEV,WAA/B;AAA4CW,IAAAA,IAAI,EAAE;AAAEC,MAAAA,iBAAiB,EAAE;AAArB;AAAlD,GAHI,EAKJ;AAAEJ,IAAAA,IAAI,EAAE,WAAR;AAAqBE,IAAAA,SAAS,EAAET,YAAhC;AAA8CU,IAAAA,IAAI,EAAE;AAAEE,MAAAA,kBAAkB,EAAE;AAAtB;AAApD,GALI,EAMJ;AAAEL,IAAAA,IAAI,EAAE,QAAR;AAAkBE,IAAAA,SAAS,EAAER,SAA7B;AAAwCS,IAAAA,IAAI,EAAE;AAAEG,MAAAA,eAAe,EAAE;AAAnB;AAA9C,GANI,EAOJ;AAAEN,IAAAA,IAAI,EAAE,gBAAR;AAA0BE,IAAAA,SAAS,EAAEP;AAArC,GAPI;AAFgB,CAAD,CAA3B;AAcA;AACA;AACA;;AACAE,MAAM,CAACU,UAAP,CAAkB,UAASC,EAAT,EAAaC,CAAb,EAAgBC,IAAhB,EAAsB;AACpC;AACA,MAAIF,EAAE,CAACL,IAAH,CAAQC,iBAAR,IAA6B,CAACR,KAAK,CAACe,OAAN,CAAcC,eAAhD,EAAiE;AAC7DF,IAAAA,IAAI,CAAC,QAAD,CAAJ;AACH,GAJmC,CAKpC;;;AACA,MAAIF,EAAE,CAACL,IAAH,CAAQG,eAAR,IAA2BV,KAAK,CAACe,OAAN,CAAcC,eAA7C,EAA8D;AAC1DF,IAAAA,IAAI,CAAC,UAAD,CAAJ;AACH,GARmC,CASpC;;;AACA,MAAIF,EAAE,CAACL,IAAH,CAAQE,kBAAR,IAA8BT,KAAK,CAACe,OAAN,CAAcC,eAAhD,EAAiE;AAC7DF,IAAAA,IAAI,CAAC,UAAD,CAAJ;AACH;;AAGDA,EAAAA,IAAI;AACP,CAhBD;AAkBA,eAAeb,MAAf","sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\n\nimport PagePubblic from './components/pubblic/PagePubblic.vue'\nimport PagePrivate from './components/private/PagePrivate.vue'\nimport UserRegister from './pages/auth/UserRegister.vue'\nimport UserLogin from './pages/auth/UserLogin.vue'\nimport NotFound from './pages/NotFound.vue'\n\nimport store from './store/index.js'\n\n\nconst router = createRouter({\n    history: createWebHistory(),\n    routes: [\n        { path: '/', redirect: '/public' },\n        { path: '/public', component: PagePubblic },\n        { path: '/private', component: PagePrivate, meta: { privateProtection: true } },\n\n        { path: '/register', component: UserRegister, meta: { registerProtection: true } },\n        { path: \"/login\", component: UserLogin, meta: { loginProtection: true } },\n        { path: '/:notFound(.*)', component: NotFound }\n    ]\n});\n\n\n/**\n * To -> is the route where we are going to\n */\nrouter.beforeEach(function(to, _, next) {\n    // se Ã¨  rischiesta la protezione e non siamo autenticati, blocco l'utente\n    if (to.meta.privateProtection && !store.getters.isAuthenticated) {\n        next('/login')\n    }\n    // se sono loggato e voglio fare il login\n    if (to.meta.loginProtection && store.getters.isAuthenticated) {\n        next('/private')\n    }\n    // se sono loggato e voglio fare la registrazione\n    if (to.meta.registerProtection && store.getters.isAuthenticated) {\n        next('/private')\n    }\n\n\n    next()\n})\n\nexport default router"]}]}