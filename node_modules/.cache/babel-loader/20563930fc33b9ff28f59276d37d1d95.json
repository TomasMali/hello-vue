{"remainingRequest":"/Users/tomas/Desktop/hello-vue/node_modules/babel-loader/lib/index.js!/Users/tomas/Desktop/hello-vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/tomas/Desktop/hello-vue/src/store/modules/auth/actions.js","dependencies":[{"path":"/Users/tomas/Desktop/hello-vue/src/store/modules/auth/actions.js","mtime":1618171763790},{"path":"/Users/tomas/Desktop/hello-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tomas/Desktop/hello-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tomas/Desktop/hello-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3RvbWFzL0Rlc2t0b3AvaGVsbG8tdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy90b21hcy9EZXNrdG9wL2hlbGxvLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKGNvbnRleHQsIHBheWxvYWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoKCdhdXRoJywgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwYXlsb2FkKSwge30sIHsKICAgICAgICAgICAgICAgIG1vZGU6ICdsb2dpbicKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoY29udGV4dCwgcGF5bG9hZCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciB1cmwsIHJlc3BvbnNlLCByZXNwb25zZURhdGE7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgdXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9yZWdpc3Rlcic7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cocGF5bG9hZCk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBmZXRjaCh1cmwsIHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgbW9kZTogJ2NvcnMnLAogICAgICAgICAgICAgICAgLy8gbm8tY29ycywgKmNvcnMsIHNhbWUtb3JpZ2luCiAgICAgICAgICAgICAgICBjYWNoZTogJ25vLWNhY2hlJywKICAgICAgICAgICAgICAgIC8vICpkZWZhdWx0LCBuby1jYWNoZSwgcmVsb2FkLCBmb3JjZS1jYWNoZSwgb25seS1pZi1jYWNoZWQKICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLAogICAgICAgICAgICAgICAgLy8gaW5jbHVkZSwgKnNhbWUtb3JpZ2luLCBvbWl0CiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgLy8gJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLAoKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICByZWRpcmVjdDogJ2ZvbGxvdycsCiAgICAgICAgICAgICAgICAvLyBtYW51YWwsICpmb2xsb3csIGVycm9yCiAgICAgICAgICAgICAgICByZWZlcnJlclBvbGljeTogJ25vLXJlZmVycmVyJywKICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAogICAgICAgICAgICAgICAgICBzdXJuYW1lOiBwYXlsb2FkLnN1cm5hbWUsCiAgICAgICAgICAgICAgICAgIGVtYWlsOiBwYXlsb2FkLmVtYWlsLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogcGF5bG9hZC5wYXNzd29yZAogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJJTlRFUk5PIik7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2VEYXRhKTsKICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2VEYXRhKTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgLy8gcXVpIHR1dHRvIG9rIAogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRVc2VyJywgewogICAgICAgICAgICAgICAgdG9rZW46IHJlc3BvbnNlRGF0YS5pZFRva2VuLAogICAgICAgICAgICAgICAgdXNlcklkOiByZXNwb25zZURhdGEubG9jYWxJZAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"sources":["/Users/tomas/Desktop/hello-vue/src/store/modules/auth/actions.js"],"names":["login","context","payload","dispatch","mode","register","url","console","log","fetch","method","cache","credentials","headers","redirect","referrerPolicy","body","JSON","stringify","name","surname","email","password","response","json","responseData","ok","Error","commit","token","idToken","userId","localId"],"mappings":";;;;;AAAA,eAAe;AAELA,EAAAA,KAFK,iBAECC,OAFD,EAEUC,OAFV,EAEmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAC1BD,cAAAA,OAAO,CAACE,QAAR,CAAiB,MAAjB,kCACOD,OADP;AAEIE,gBAAAA,IAAI,EAAE;AAFV;;AAD0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAK7B,GAPU;AAULC,EAAAA,QAVK,oBAUIJ,OAVJ,EAUaC,OAVb,EAUsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEzBI,cAAAA,GAFyB,GAEnB,gCAFmB;AAI7BC,cAAAA,OAAO,CAACC,GAAR,CAAYN,OAAZ;AAJ6B;AAAA,qBAONO,KAAK,CAACH,GAAD,EAAM;AAC9BI,gBAAAA,MAAM,EAAE,MADsB;AAE9BN,gBAAAA,IAAI,EAAE,MAFwB;AAEhB;AACdO,gBAAAA,KAAK,EAAE,UAHuB;AAGX;AACnBC,gBAAAA,WAAW,EAAE,aAJiB;AAIF;AAC5BC,gBAAAA,OAAO,EAAE;AACL,kCAAgB,kBADX,CAED;;AAFC,iBALqB;AAS9BC,gBAAAA,QAAQ,EAAE,QAToB;AASV;AACpBC,gBAAAA,cAAc,EAAE,aAVc;AAW9BC,gBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,kBAAAA,IAAI,EAAEjB,OAAO,CAACiB,IADG;AAEjBC,kBAAAA,OAAO,EAAElB,OAAO,CAACkB,OAFA;AAGjBC,kBAAAA,KAAK,EAAEnB,OAAO,CAACmB,KAHE;AAIjBC,kBAAAA,QAAQ,EAAEpB,OAAO,CAACoB;AAJD,iBAAf;AAXwB,eAAN,CAPC;;AAAA;AAOvBC,cAAAA,QAPuB;AAAA;AAAA,qBA0BFA,QAAQ,CAACC,IAAT,EA1BE;;AAAA;AA0BvBC,cAAAA,YA1BuB;;AAAA,kBA8BxBF,QAAQ,CAACG,EA9Be;AAAA;AAAA;AAAA;;AA+BzBnB,cAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAD,cAAAA,OAAO,CAACC,GAAR,CAAYiB,YAAZ;AAhCyB,oBAiCnB,IAAIE,KAAJ,CAAUF,YAAV,CAjCmB;;AAAA;AAoC7B;AACAxB,cAAAA,OAAO,CAAC2B,MAAR,CAAe,SAAf,EAA0B;AACtBC,gBAAAA,KAAK,EAAEJ,YAAY,CAACK,OADE;AAEtBC,gBAAAA,MAAM,EAAEN,YAAY,CAACO;AAFC,eAA1B;;AArC6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyChC;AAnDU,CAAf","sourcesContent":["export default {\n\n    async login(context, payload) {\n        context.dispatch('auth', {\n            ...payload,\n            mode: 'login'\n        })\n    },\n\n\n    async register(context, payload) {\n\n        let url = 'http://localhost:3000/register'\n\n        console.log(payload)\n\n\n        const response = await fetch(url, {\n            method: 'POST',\n            mode: 'cors', // no-cors, *cors, same-origin\n            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n            credentials: 'same-origin', // include, *same-origin, omit\n            headers: {\n                'Content-Type': 'application/json'\n                    // 'Content-Type': 'application/x-www-form-urlencoded',\n            },\n            redirect: 'follow', // manual, *follow, error\n            referrerPolicy: 'no-referrer',\n            body: JSON.stringify({\n                name: payload.name,\n                surname: payload.surname,\n                email: payload.email,\n                password: payload.password\n            })\n        });\n\n        const responseData = await response.json()\n\n        // console.log(response)\n\n        if (!response.ok) {\n            console.log(\"INTERNO\")\n            console.log(responseData)\n            throw new Error(responseData)\n        }\n\n        // qui tutto ok \n        context.commit('setUser', {\n            token: responseData.idToken,\n            userId: responseData.localId,\n        })\n    },\n\n\n\n\n}"]}]}